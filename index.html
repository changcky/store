---
layout: default
title: æˆ‘çš„é¡¹ç›® HTML é¡µé¢åˆ—è¡¨
---
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            margin: 20px;
        }
        h1 {
            color: #333;
        }
        /* ç›®å½•æ ‘æ ·å¼ */
        .file-tree {
            list-style-type: none;
            padding-left: 0;
        }
        .file-tree li {
            margin: 5px 0;
        }
        .file-tree ul {
            list-style-type: none;
            padding-left: 20px;
            margin-top: 5px;
            display: none; /* é»˜è®¤éšè—å­ç›®å½• */
        }
        .file-tree .directory {
            cursor: pointer;
            user-select: none;
            color: #333;
            font-weight: bold;
        }
        .file-tree .directory:before {
            content: "ğŸ“ ";
            margin-right: 5px;
        }
        .file-tree .directory.open:before {
            content: "ğŸ“‚ "; /* æ‰“å¼€çš„æ–‡ä»¶å¤¹å›¾æ ‡ */
        }
        .file-tree .file a {
            color: #007bff;
            text-decoration: none;
            margin-left: 20px;
        }
        .file-tree .file:before {
            content: "ğŸ“„ ";
            margin-right: 5px;
        }
        .file-tree .file a:hover {
            text-decoration: underline;
        }
        /* å±•å¼€/æŠ˜å å›¾æ ‡ */
        .toggle-icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            margin-right: 5px;
            text-align: center;
            line-height: 14px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 2px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>æ¬¢è¿è®¿é—®æˆ‘çš„é¡¹ç›®é¡µé¢</h1>
    <p>è¯·ç‚¹å‡»ç›®å½•å±•å¼€æŸ¥çœ‹ä¸åŒçš„ HTML é¡µé¢:</p>
    
    <ul class="file-tree" id="file-tree">
        <!-- æ­¤å¤„å°†ç”± JavaScript åŠ¨æ€ç”Ÿæˆç›®å½•ç»“æ„ -->
    </ul>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // å­˜å‚¨æ‰€æœ‰é¡µé¢ä¿¡æ¯
            const allPages = [
                {% for page in site.html_pages %}
                    {% unless page.url == '/index.html' or page.url == '/' %}
                    {
                        url: "{{ page.url }}",
                        title: "{{ page.title | default: page.path }}",
                        path: "{{ page.path }}"
                    },
                    {% endunless %}
                {% endfor %}
            ];
            
            // åˆ›å»ºç›®å½•æ ‘ç»“æ„
            const fileTree = {};
            
            // å¤„ç†æ¯ä¸ªé¡µé¢ï¼Œæ„å»ºç›®å½•æ ‘
            allPages.forEach(page => {
                // åˆ†å‰²è·¯å¾„
                let pathParts = page.path.split('/');
                let fileName = pathParts.pop(); // æœ€åä¸€éƒ¨åˆ†æ˜¯æ–‡ä»¶å
                
                // ä»æ ¹ç›®å½•å¼€å§‹
                let currentLevel = fileTree;
                
                // æ„å»ºç›®å½•ç»“æ„
                pathParts.forEach(folder => {
                    if (folder) { // é¿å…ç©ºæ–‡ä»¶å¤¹å
                        if (!currentLevel[folder]) {
                            currentLevel[folder] = {};
                        }
                        currentLevel = currentLevel[folder];
                    }
                });
                
                // æ·»åŠ æ–‡ä»¶åˆ°å½“å‰ç›®å½•çº§åˆ«
                if (!currentLevel._files) {
                    currentLevel._files = [];
                }
                currentLevel._files.push({
                    name: fileName,
                    url: page.url,
                    title: page.title
                });
            });
            
            // æ¸²æŸ“ç›®å½•æ ‘åˆ°DOM
            const fileTreeElement = document.getElementById('file-tree');
            
            // é€’å½’æ¸²æŸ“ç›®å½•ç»“æ„
            function renderDirectory(container, directory, path = '') {
                // éå†ç›®å½•ä¸­çš„æ–‡ä»¶å¤¹
                Object.keys(directory).forEach(key => {
                    if (key !== '_files') {
                        const dirPath = path ? `${path}/${key}` : key;
                        const dirLi = document.createElement('li');
                        
                        // åˆ›å»ºç›®å½•é¡¹
                        const folderSpan = document.createElement('span');
                        folderSpan.textContent = key;
                        folderSpan.className = 'directory';
                        folderSpan.setAttribute('data-path', dirPath);
                        
                        // æ·»åŠ å±•å¼€/æŠ˜å å›¾æ ‡
                        const toggleIcon = document.createElement('span');
                        toggleIcon.className = 'toggle-icon';
                        toggleIcon.textContent = '+';
                        folderSpan.prepend(toggleIcon);
                        
                        dirLi.appendChild(folderSpan);
                        
                        // åˆ›å»ºå­é¡¹å®¹å™¨
                        const subUl = document.createElement('ul');
                        dirLi.appendChild(subUl);
                        
                        // æ·»åŠ ç‚¹å‡»äº‹ä»¶å¤„ç†
                        folderSpan.addEventListener('click', function() {
                            this.classList.toggle('open');
                            if (this.classList.contains('open')) {
                                toggleIcon.textContent = '-';
                                subUl.style.display = 'block';
                            } else {
                                toggleIcon.textContent = '+';
                                subUl.style.display = 'none';
                            }
                        });
                        
                        // é€’å½’æ¸²æŸ“å­ç›®å½•
                        renderDirectory(subUl, directory[key], dirPath);
                        
                        container.appendChild(dirLi);
                    }
                });
                
                // æ¸²æŸ“å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶
                if (directory._files) {
                    directory._files.forEach(file => {
                        const fileLi = document.createElement('li');
                        fileLi.className = 'file';
                        
                        const fileLink = document.createElement('a');
                        fileLink.href = file.url;
                        fileLink.textContent = file.title || file.name;
                        
                        fileLi.appendChild(fileLink);
                        container.appendChild(fileLi);
                    });
                }
            }
            
            // å¼€å§‹æ¸²æŸ“æ ¹ç›®å½•
            renderDirectory(fileTreeElement, fileTree);
            
            // å¦‚æœæ ¹ç›®å½•æ²¡æœ‰å­ç›®å½•ï¼Œç›´æ¥æ˜¾ç¤ºæ–‡ä»¶
            if (fileTree._files && Object.keys(fileTree).length === 1) {
                fileTree._files.forEach(file => {
                    const fileLi = document.createElement('li');
                    fileLi.className = 'file';
                    
                    const fileLink = document.createElement('a');
                    fileLink.href = file.url;
                    fileLink.textContent = file.title || file.name;
                    
                    fileLi.appendChild(fileLink);
                    fileTreeElement.appendChild(fileLi);
                });
            }
        });
    </script>
</body>
</html>
